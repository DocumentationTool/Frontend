<div class="upload-dialog">
  <h2>Add user Permission</h2>
  <form [formGroup]="addUserPermissionForm" (submit)="addUserPermission()">

    <label>Add user to Permission:</label>
    <input formControlName="userToAdd" type="text" (focus)="openUserToAddDropdown()"
           (click)="$event.stopPropagation()" autocomplete="off"/>

    <label>Add permission:</label>
    <input formControlName="permissionToAdd" type="text" (focus)="openPermissionToAddDropdown()"
           (click)="$event.stopPropagation()" autocomplete="off"/>

    <label>Permission path:</label>
    <input formControlName="pathToAdd" type="text" (focus)="openPathDropdown()"
           (click)="$event.stopPropagation()" autocomplete="off"/>

    <button type="submit" class="upload-btn" [disabled]="addUserPermissionForm.invalid || isFormEmpty()">Update</button>
    <button type="button" class="cancel-btn" (click)="closeDialog()">Cancel</button>
  </form>
</div>


<!--Dropdown-->

@if (isUsersToAddActive && allUsersToAdd.length > 0) {
  <div class="search-results-addUserId">
    @for (userId of allUsersToAdd; track userId) {
      <div class="search-box" (click)="onSelectUsersToAdd(userId)">
        <span class="repo-id">{{ userId }}</span>
      </div>
    }
  </div>
}

@if (isPermissionToAddActive && allPermissions.length > 0) {
  <div class="search-results-addPermission">
    @for (permission of allPermissions; track permission) {
      <div class="search-box" (click)="onSelectPermissionToAdd(getPermissionName(permission))">
        <span class="repo-id">{{ getPermissionName(permission) }}</span>
      </div>
    }
  </div>
}

@if (isPathActive && allPaths.length > 0) {
  <div class="search-results-addPath">
    @for (path of allPaths; track path) {
      <div class="search-box" (click)="onSelectPath(path)">
        <span class="repo-id">{{ path }}</span>
      </div>
    }
  </div>
}
